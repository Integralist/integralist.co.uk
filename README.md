# integralist.co.uk

Website built using [Go](https://golang.org/), [Hugo](https://gohugo.io/) and deployed via [Netlify](https://www.netlify.com/).

## Dependencies

- `brew install go`
- `brew install hugo`
- `curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.36.0/install.sh | bash` (†)
- `nvm install node`
- `npm audit fix`
- `npm install` 

> † nvm will modify your shell profile (`.bash_profile` or `.bashrc`) so I prefer to move to a `.localrc` instead and also append `--no-use` after the sourcing of the `nvm.sh` script.

When trying to run the site locally you'll need to remember to run `nvm use node` first otherwise neither `node` nor the `npm` commands will be available!

## New Post

- `hugo new ./posts/<name-of-post>.md`
- `npm run dev` (which internally executes `hugo server`)

> Note: might need to remove vim swap files, e.g. `find . -path "*.swp" -exec rm {} \;`.

## Site Search

The search capabilities are provided by [lunr.js](https://lunrjs.com/).

The index document `/static/js/lunr/index.json` is generated by `npm run index`.

The best thing to do is to just execute `npm run dev` instead of `hugo server` as this will ensure the lunr index is rebuilt accordingly.

The dependencies are jQuery and lunr.js on the client-side, the following for the build time compilation:

## DNS

* Hostname: www
* Type: CNAME
* Value: dreamy-wing-b0b998.netlify.com.

---

* Hostname: @
* Type: A
* Value: 104.198.14.52

---

* Hostname: www
* Type: A
* Value: 104.198.14.52

---

```
$ dig www.integralist.co.uk

;; ANSWER SECTION:
www.integralist.co.uk.  14399   IN      CNAME   dreamy-wing-b0b998.netlify.com.
dreamy-wing-b0b998.netlify.com. 19 IN   A       54.229.14.125

$ dig integralist.co.uk

;; ANSWER SECTION:
integralist.co.uk.      14224   IN      A       104.198.14.52

$ dig A integralist.co.uk @ns.123-reg.co.uk. +short
104.198.14.52

$ dig A integralist.co.uk @8.8.8.8 +short
104.198.14.52
```
